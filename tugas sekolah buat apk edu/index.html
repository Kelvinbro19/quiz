<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduQuiz - Permainan Kuis Edukasi</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --accent: #f72585;
            --light: #f8f9fa;
            --dark: #212529;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f7ff;
            color: var(--dark);
        }

        .card {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            transform: translateY(-5px);
        }

        .btn-primary {
            background: var(--primary);
            transition: all 0.3s;
        }

        .btn-primary:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        .profile-card {
            display: none; /* Sembunyikan profil secara default */
        }

        .profile-card.active {
            display: block; /* Tampilkan profil saat aktif */
        }

        .profile-image {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
        }

        .progress-bar {
            height: 8px;
            border-radius: 4px;
            background: #e9ecef;
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            background: var(--accent);
            transition: width 0.5s ease;
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .option-card {
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .option-card.selected {
            background-color: #d1fae5; /* Warna hijau muda untuk jawaban yang dipilih */
        }

        .option-card.correct {
            background-color: #bbf7d0; /* Warna hijau untuk jawaban yang benar */
        }

        .option-card.incorrect {
            background-color: #fee2e2; /* Warna merah untuk jawaban yang salah */
        }

        @media (max-width: 768px) {
            .btn-primary {
                width: 100%;
            }
            .card {
                padding: 16px;
            }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <div class="container max-w-4xl mx-auto">
        <!-- Halaman Selamat Datang -->
        <div id="welcomePage" class="page active">
            <div class="card bg-white rounded-2xl p-8 md:p-12 text-center">
                <h1 class="text-4xl font-bold text-gray-800 mb-4">Selamat datang di <span class="text-primary">QuizVin</span></h1>
                <p class="text-lg text-gray-600 mb-8">Uji pengetahuan anda dengan pembelajaran di QuizVin!</p>
                <div class="flex flex-col md:flex-row justify-center gap-4">
                    <button id="loginBtn" class="btn-primary text-white py-3 px-8 rounded-lg font-medium text-lg">Masuk</button>
                    <button id="registerBtn" class="bg-white border-2 border-primary text-primary py-3 px-8 rounded-lg font-medium text-lg hover:bg-gray-50">Daftar</button>
                </div>
            </div>
        </div>

        <!-- Halaman Masuk -->
        <div id="loginPage" class="page">
            <div class="card bg-white rounded-2xl p-8 md:p-12">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Selamat Datang Kembali!</h2>
                    <p class="text-gray-600">Masuk untuk melanjutkan perjalanan kuis</p>
                </div>
                <form id="loginForm">
                    <div class="mb-6">
                        <label for="loginEmail" class="block text-gray-700 font-medium mb-2">Email</label>
                        <input type="email" id="loginEmail" class="input-field w-full p-4 rounded-lg" placeholder="Masukkan email Anda" required>
                        <p id="loginEmailError" class="text-red-500 text-sm mt-1 hidden"></p>
                    </div>
                    <div class="mb-6">
                        <label for="loginPassword" class="block text-gray-700 font-medium mb-2">Kata Sandi</label>
                        <input type="password" id="loginPassword" class="input-field w-full p-4 rounded-lg" placeholder="Masukkan kata sandi Anda" required>
                        <p id="loginPasswordError" class="text-red-500 text-sm mt-1 hidden"></p>
                    </div>
                    <button type="submit" class="btn-primary w-full text-white py-3 px-8 rounded-lg font-medium text-lg mb-4">Masuk</button>
                    <p class="text-center text-gray-600">Belum punya akun? <button id="goToRegisterFromLogin" class="text-primary font-medium">Daftar</button></p>
                </form>
            </div>
        </div>

        <!-- Halaman Daftar -->
        <div id="registerPage" class="page">
            <div class="card bg-white rounded-2xl p-8 md:p-12">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Buat Akun</h2>
                    <p class="text-gray-600">Bergabung untuk menlanjutakan pembelajaran</p>
                </div>
                <form id="registerForm">
                    <div class="mb-6">
                        <label for="registerName" class="block text-gray-700 font-medium mb-2">Nama Lengkap</label>
                        <input type="text" id="registerName" class="input-field w-full p-4 rounded-lg" placeholder="Masukkan nama lengkap Anda" required>
                        <p id="registerNameError" class="text-red-500 text-sm mt-1 hidden"></p>
                    </div>
                    <div class="mb-6">
                        <label for="registerEmail" class="block text-gray-700 font-medium mb-2">Email</label>
                        <input type="email" id="registerEmail" class="input-field w-full p-4 rounded-lg" placeholder="Masukkan email Anda" required>
                        <p id="registerEmailError" class="text-red-500 text-sm mt-1 hidden"></p>
                    </div>
                    <div class="mb-6">
                        <label for="registerPassword" class="block text-gray-700 font-medium mb-2">Kata Sandi</label>
                        <input type="password" id="registerPassword" class="input-field w-full p-4 rounded-lg" placeholder="Buat kata sandi (min 6 karakter)" minlength="6" required>
                        <p id="registerPasswordError" class="text-red-500 text-sm mt-1 hidden"></p>
                    </div>
                    <div class="mb-6">
                        <label for="registerConfirmPassword" class="block text-gray-700 font-medium mb-2">Konfirmasi Kata Sandi</label>
                        <input type="password" id="registerConfirmPassword" class="input-field w-full p-4 rounded-lg" placeholder="Konfirmasi kata sandi Anda" required>
                        <p id="registerConfirmPasswordError" class="text-red-500 text-sm mt-1 hidden"></p>
                    </div>
                    <button type="submit" class="btn-primary w-full text-white py-3 px-8 rounded-lg font-medium text-lg mb-4">Daftar</button>
                    <p class="text-center text-gray-600">Sudah punya akun? <button id="goToLoginFromRegister" class="text-primary font-medium">Masuk</button></p>
                </form>
            </div>
        </div>

        <!-- Halaman Dashboard -->
        <div id="dashboardPage" class="page">
            <div class="card bg-white rounded-2xl p-8 md:p-12">
                <div class="flex flex-col md:flex-row justify-between items-center mb-8">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Selamat datang <span id="userNameDisplay">MUHAMMAD KELVIN AHSANUL KHULUQ</span>😊</h2>
                        <p class="text-gray-600">Pilih kuis</p>
                    </div>
                    <div class="mt-4 md:mt-0 flex gap-2">
                        <button id="profileBtn" class="btn-primary text-white py-2 px-4 rounded-lg font-medium">Profil Developer</button>
                        <button id="logoutBtn" class="bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg font-medium">Keluar</button>
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="card bg-white rounded-xl p-6 border border-gray-100 hover:border-primary cursor-pointer" data-quiz="PPKN">
                        <div class="flex items-center gap-4">
                            <div class="bg-blue-100 p-3 rounded-lg">
                                <i class="fas fa-flag text-blue-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Kuis PPKN</h3>
                                <p class="text-sm text-gray-600">Seberapa tahu anda tentang negara kita</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card bg-white rounded-xl p-6 border border-gray-100 hover:border-primary cursor-pointer" data-quiz="Informatika">
                        <div class="flex items-center gap-4">
                            <div class="bg-purple-100 p-3 rounded-lg">
                                <i class="fas fa-landmark text-purple-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Kuis Informatika</h3>
                                <p class="text-sm text-gray-600">Seberapa tahu anda tentang teknologia</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card bg-white rounded-xl p-6 border border-gray-100 hover:border-primary cursor-pointer" data-quiz="Matematika">
                        <div class="flex items-center gap-4">
                            <div class="bg-green-100 p-3 rounded-lg">
                                <i class="fas fa-calculator text-green-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Kuis Matematika</h3>
                                <p class="text-sm text-gray-600">Uji kemampuan matematikamu!</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card bg-white rounded-xl p-6 border border-gray-100 hover:border-primary cursor-pointer" data-quiz="Inggris">
                        <div class="flex items-center gap-4">
                            <div class="bg-yellow-100 p-3 rounded-lg">
                                <i class="fas fa-globe-americas text-yellow-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Kuis B.Inggris</h3>
                                <p class="text-sm text-gray-600">Seberapa barat kamu😁</p>
                            </div>
                        </div>
                    </div>

                    <!-- Halaman Opsi -->
                    <div id="optionsPage" class="page">
                        <div class="card bg-white rounded-2xl p-8 md:p-12 text-center">
                            <h2 class="text-2xl font-bold mb-4">Pilih Opsi</h2>
                            <button id="quizBtn" class="btn-primary text-white py-3 px-6 rounded-lg font-medium">Kuis</button>
                            <button id="materialBtn" class="bg-white border-2 border-primary text-primary py-3 px-6 rounded-lg font-medium hover:bg-gray-50">Materi</button>
                            <button id="backToDashboardBtn" class="bg-gray-200 text-gray-800 py-2 px-4 rounded-lg font-medium mt-4">Kembali ke Dashboard</button>
                        </div>
                    </div>

                    <!-- Halaman Materi -->
                    <div id="materialPage" class="page">
                        <div class="card bg-white rounded-2xl p-8 md:p-12">
                            <h2 class="text-2xl font-bold mb-4">Materi</h2>
                            <p>Ini adalah materi yang akan Anda tulis sendiri.</p>
                            <button id="backToOptionsBtn" class="bg-gray-200 text-gray-800 py-2 px-4 rounded-lg font-medium mt-4">Kembali ke Opsi</button>
                        </div>
                    </div>



                    
                    <!-- Kuis baru: Bahasa Indonesia -->
                    <div class="card bg-white rounded-xl p-6 border border-gray-100 hover:border-primary cursor-pointer" data-quiz="Indonesia">
                        <div class="flex items-center gap-4">
                            <div class="bg-blue-100 p-3 rounded-lg">
                                <i class="fas fa-book text-blue-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Kuis Bahasa Indonesia</h3>
                                <p class="text-sm text-gray-600">Bahasa Indonesia</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Kuis baru: IPA -->
                    <div class="card bg-white rounded-xl p-6 border border-gray-100 hover:border-primary cursor-pointer" data-quiz="ipa">
                        <div class="flex items-center gap-4">
                            <div class="bg-green-100 p-3 rounded-lg">
                                <i class="fas fa-flask text-green-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Kuis IPA</h3>
                                <p class="text-sm text-gray-600">Ilmu Pengetahuan Alam</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Kuis baru: IPS -->
                    <div class="card bg-white rounded-xl p-6 border border-gray-100 hover:border-primary cursor-pointer" data-quiz="ips">
                        <div class="flex items-center gap-4">
                            <div class="bg-yellow-100 p-3 rounded-lg">
                                <i class="fas fa-globe-asia text-yellow-500 text-xl"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-gray-800">Kuis IPS</h3>
                                <p class="text-sm text-gray-600">Ilmu Pengetahuan Sosial</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Halaman Profil -->
<div id="profilePage" class="profile-card">
    <div class="card bg-white rounded-2xl p-8 md:p-12 text-center">
        <h3 class="text-xl font-bold" id="userNameDisplayProfile">MUHAMMAD KELVIN AHSANUL KHULUQ</h3>
        <p class="text-gray-600">Sosial Media:</p>
        <p class="text-gray-600">
            TikTok: <a href="https://www.tiktok.com/@k1ngv1nzz" target="_blank" class="text-black hover:underline">@k1ngv1nzz</a>
        </p>
        <p class="text-gray-600">
            Instagram: <a href="https://www.instagram.com/klvv_vinnn" target="_blank" class="text-black hover:underline">@klvv_vinnn</a>
        </p>
        <button id="whyCreateAppBtn" class="btn-primary text-white py-2 px-4 rounded-lg font-medium mt-4">Mengapa membuat aplikasi ini?</button>
        <button id="logoutFromProfileBtn" class="bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg font-medium mt-4">Keluar</button>
    </div>
</div>


        <!-- Halaman Penjelasan -->
        <div id="explanationPage" class="page">
            <div class="card bg-white rounded-2xl p-8 md:p-12 text-center">
                <h2 class="text-2xl font-bold">Sebenarnya aplikasi ini dibuat bukan karena tugas sekolah, saya dari beberapa minggu sebelum liburan sudah mensiapkan konsep untuk membuat website kuis. Saat di sekolah dikasih tahu boleh membuat aplikasi edukasi, niatnya saya mau ini yang saya kumpulkan, tapi belum menjadi aplikasi, saya menggunakan tools AppsGeyser untuk merubah ke aplikasi</h2>
                <button id="backToProfile" class="btn-primary text-white py-2 px-4 rounded-lg font-medium mt-4">Kembali ke Profil</button>
            </div>
        </div>

        <!-- Halaman Review Jawaban -->
        <div id="reviewPage" class="page">
            <div class="card bg-white rounded-2xl p-8 md:p-12">
                <div class="flex justify-between items-center mb-8">
                    <button id="backToResults" class="text-primary font-medium flex items-center">
                        <i class="fas fa-arrow-left mr-2"></i> Kembali ke Hasil
                    </button>
                    <h2 class="text-2xl font-bold text-gray-800">Tinjau Jawaban</h2>
                </div>
                <div id="reviewContent" class="space-y-6">
                    <!-- Will be populated dynamically -->
                </div>
            </div>
        </div>

        <!-- Halaman Kuis -->
        <div id="quizPage" class="page">
            <div class="card bg-white rounded-2xl p-8 md:p-12">
                <div class="flex justify-between items-center mb-8">
                    <button id="backToDashboard" class="text-primary font-medium flex items-center">
                        <i class="fas fa-arrow-left mr-2"></i> Kembali ke Dashboard
                    </button>
                    <div class="flex items-center gap-4">
                        <div class="bg-gray-100 px-3 py-1 rounded-full">
                            <span id="currentQuestionNumber" class="font-bold">1</span>
                            <span>/</span>
                            <span id="totalQuestions">10</span>
                        </div>
                        <div id="timer" class="bg-red-100 text-red-500 px-3 py-1 rounded-full font-medium">
                            30s
                        </div>
                    </div>
                </div>

                                <div class="progress-bar mb-8">
                    <div id="progressFill" class="progress-fill" style="width: 10%"></div>
                </div>

                <div id="quizContent">
                    <!-- Dimuat secara dinamis -->
                </div>
            </div>
        </div>

        <!-- Halaman Hasil -->
        <div id="resultsPage" class="page">
            <div class="card bg-white rounded-2xl p-8 md:p-12">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Kuis Selesai</h2>
                    <p class="text-gray-600">Berikut adalah hasil Anda</p>
                </div>

                <div class="flex flex-col md:flex-row justify-center gap-8 mb-10">
                    <div class="card bg-green-50 p-6 rounded-xl text-center flex-1">
                        <div class="text-5xl font-bold text-green-600 mb-2"><span id="correctAnswers">0</span>/<span id="totalQuestionsResult">10</span></div>
                        <p class="text-gray-700">Jawaban Benar</p>
                    </div>
                    
                    <div class="card bg-blue-50 p-6 rounded-xl text-center flex-1">
                        <div class="text-5xl font-bold text-blue-600 mb-2"><span id="scorePercentage">0</span>%</div>
                        <p class="text-gray-700">Skor</p>
                    </div>
                    
                    <div class="card bg-purple-50 p-6 rounded-xl text-center flex-1">
                        <div id="timeTaken" class="text-5xl font-bold text-purple-600 mb-2">0s</div>
                        <p class="text-gray-700">Waktu yang Dihabiskan</p>
                    </div>
                </div>

                <div class="mb-8">
                    <div class="flex justify-between items-center mb-2">
                        <h3 class="font-bold text-gray-800">Rincian Kinerja</h3>
                        <span id="performanceMessage" class="text-sm font-medium px-3 py-1 rounded-full bg-yellow-100 text-yellow-600">Kerja Bagus!</span>
                    </div>
                    <div class="space-y-4" id="performanceDetails">
                        <!-- Rincian kinerja akan dimuat di sini -->
                    </div>
                </div>

                <div class="flex flex-col md:flex-row justify-center gap-4 mt-6">
                    <button id="reviewAnswersBtn" class="bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-6 rounded-lg font-medium">Tinjau Jawaban</button>
                    <button id="newQuizBtn" class="btn-primary text-white py-3 px-6 rounded-lg font-medium">Mulai Kuis Baru</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Database simulasi
        let users = [];
        let currentUser    = null;
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let score = 0;
        let timer;
        let timeLeft = 30;
        let quizStartTime;
        let timeTaken = 0;
        
        // Data kuis
        const quizzes = {
            PPKN: [
                {
                    question: " Dasar dari negara kita Indonesia adalah…..",
                    options: ["MPR", "Pancasila", "GBHN", "Konsitusi"],
                    correctAnswer: 1
                },
                {
                    question: "Pengkuan dari negara lain dapat diperoleh dari satu negara dengan cara…..",
                    options: ["mengisolasi diri mereka sendiri", "Perkuat senjata", "Kerjasama internasional", "Hubungan internasional"],
                    correctAnswer: 3
                },
                {
                    question: "Yang BUKAN termasuk norma adalah?",
                    options: ["Hukum", "Keluarga", "Agama", "Kesopanan"],
                    correctAnswer: 1
                },
                {
                    question: "Apa lambang negara Republik Indonesia?",
                    options: ["Harimau", "Garuda Pancasila", "Macan", "Rajawali"],
                    correctAnswer: 1
                },
                {
                    question: "Siapa bapak promklamator Republik Indonesia?",
                    options: ["Ki Hajar Dewantara", "Soekarno", "Soeharto", "Prabowo"],
                    correctAnswer: 1
                }
                
            ],
            Informatika: [
                {
                    question: "Apa fungsi bendera hijau pada Scratch?",
                    options: ["Mulai program", "Keluar aplikasi", "Untuk hiasan", "Untuk berjalan ke depan"],
                    correctAnswer: 0
                },
                {
                    question: "Tempat di Scratch yang khusus untuk menggerakkan player disebut?",
                    options: ["Motion", "Looks", "Sensing", "Sound"],
                    correctAnswer: 0
                },
                {
                    question: "Posisi Y dari 0 ke -10 disebut?",
                    options: ["Ke atas", "Ke bawah", "Ke samping kanan", "Ke samping kiri"],
                    correctAnswer: 1
                },
                {
                    question: "Fungsi rumus SUM pada Exel adalah?",
                    options: ["mencari rata rata", "Mencari nilai terendah", "Mencari nilai tertinggi", "menjumlah"],
                    correctAnswer: 3
                },
                {
                    question: "Fungsi rumus MAX pada Exel adalah?",
                    options: ["mencari rata rata", "Mencari nilai terendah", "Mencari nilai tertinggi", "menjumlah"],
                    correctAnswer: 2
                }
            ],
            ipa: [
                {
                    question: "Proses fotosintesis pada tumbuhan menghasilkan...",
                    options: ["Oksigen", "Karbon dioksida", "Nitrogen", "Hidrogen"],
                    correctAnswer: 0
                },
                {
                    question: "Bagian sel yang disebut 'otak sel' adalah...",
                    options: ["Mitokondria", "Nukleus", "Ribosom", "Membran sel"],
                    correctAnswer: 1
                },
                {
                    question: "Zat yang dihasilkan lebah madu adalah...",
                    options: ["Nektar", "Royal jelly", "Propolis", "Semua benar"],
                    correctAnswer: 3
                },
                {
                    question: "Planet terdekat dengan matahari adalah...",
                    options: ["Venus", "Mars", "Mercury", "Bumi"],
                    correctAnswer: 2
                },
                {
                    question: "Penyakit yang disebabkan oleh virus adalah...",
                    options: ["TBC", "Malaria", "Demam berdarah", "Tifus"],
                    correctAnswer: 2
                }
            ],
            ips: [
                {
                    question: "Lembaga negara yang bertugas membuat UU adalah...",
                    options: ["Eksekutif", "Legislatif", "Yudikatif", "DPR"],
                    correctAnswer: 1
                },
                {
                    question: "Mata uang negara Jepang adalah...",
                    options: ["Dollar", "Ringgit", "Yen", "Won"],
                    correctAnswer: 2
                },
                {
                    question: "Tokoh proklamator Indonesia adalah...",
                    options: ["Soekarno-Hatta", "Soeharto-Habibie", "Gandhi-Nehru", "Jokowi-Ma'ruf"],
                    correctAnswer: 0
                },
                {
                    question: "Pasar bebas ASEAN disebut...",
                    options: ["APEC", "AFTA", "WTO", "OPEC"],
                    correctAnswer: 1
                },
                {
                    question: "Ibukota provinsi Jawa Barat adalah...",
                    options: ["Bandung", "Jakarta", "Semarang", "Surabaya"],
                    correctAnswer: 0
                }
            ],
            Matematika: [
                {
                    question: "1+5x2+5x1-5+6 =.... ",
                    options: ["18", "17", "16", "19"],
                    correctAnswer: 0
                },
                {
                    question: "Berapa akar kuadrat dari 144?",
                    options: ["11", "12", "13", "14"],
                    correctAnswer: 1
                },
                {
                    question: "Berapa hasil dari 50% dari 200?",
                    options: ["50", "100", "150", "200"],
                    correctAnswer: 1
                },
                {
                    question: "Jika x + 5 = 15, berapa nilai x?",
                    options: ["5", "10", "15", "20"],
                    correctAnswer: 1
                },
                {
                    question: "Berapa hasil dari 3² + 4²?",
                    options: ["9", "16", "25", "7"],
                    correctAnswer: 2
                }
            ],
            Inggris: [
                {
                    question: "She ___ to school every day.",
                    options: ["goes", "gone", "go", "going"],
                    correctAnswer: 2
                },
                {
                    question: "What time ___ you usually wake up in the morning?",
                    options: ["are", "do", "does", "is"],
                    correctAnswer: 1
                },
                {
                    question: "She ___ to school by bicycle.",
                    options: ["go", "going", "goes", "went"],
                    correctAnswer: 2
                },
                {
                    question: "We ___ soccer every afternoon.",
                    options: ["play", "plays", "played", "playing"],
                    correctAnswer: 0
                },
                {
                    question: "This is my friend. ___ name is Lina.",
                    options: ["His", "Her", "Their", "Our"],
                    correctAnswer: 1
                }
            ],
            Indonesia: [
                {
                    question: "Kalimat tunggal adalah kalimat yang memiliki ___ klausa.",
                    options: ["1", "2", "3", "lebih dari 1"],
                    correctAnswer: 0
                },
                {
                    question: "Kalimat majemuk adalah kalimat yang memilikim ___ klausa.",
                    options: ["1", "2", "3", "lebih dari 1"],
                    correctAnswer: 3
                },
                {
                    question: "Kata ganti tempat adalah?",
                    options: ["kamu", "di sini", "dia", "mereka"],
                    correctAnswer: 1
                },
                {
                    question: "Yang BUKAN struktur berita adalah?",
                    options: ["judul", "teras", "isi", "penutup"],
                    correctAnswer: 3
                },
                {
                    question: "Yang BUKAN termasuk kata baku adalah?",
                    options: ["aktivitas", "foto", "ijin", "baterai"],
                    correctAnswer: 2
                }
            ]
        };

        // Elemen DOM
        const pages = {
            welcome: document.getElementById('welcomePage'),
            login: document.getElementById('loginPage'),
            register: document.getElementById('registerPage'),
            dashboard: document.getElementById('dashboardPage'),
            quiz: document.getElementById('quizPage'),
            results: document.getElementById('resultsPage'),
            profile: document.getElementById('profilePage'),
            explanation: document.getElementById('explanationPage')
        };

        // Riwayat kinerja
        const performanceHistory = {};

        // Fungsi navigasi
        function showPage(pageId) {
            // Sembunyikan semua halaman
            Object.values(pages).forEach(page => {
                page.classList.remove('active');
            });
            
            // Tampilkan halaman yang diminta
            document.getElementById(pageId).classList.add('active');
        }

        // Event listener untuk navigasi
        document.getElementById('loginBtn').addEventListener('click', () => showPage('loginPage'));
        document.getElementById('registerBtn').addEventListener('click', () => showPage('registerPage'));
        document.getElementById('goToRegisterFromLogin').addEventListener('click', () => showPage('registerPage'));
        document.getElementById('goToLoginFromRegister').addEventListener('click', () => showPage('loginPage'));
        document.getElementById('backToDashboard').addEventListener('click', () => {
            resetQuiz();
            showPage('dashboardPage');
        });
        document.getElementById('profileBtn').addEventListener('click', () => {
            document.getElementById('userNameDisplayProfile').textContent = "MUHAMMAD KELVIN AHSANUL KHULUQ"; // Tetapkan nama pengguna di profil
            showPage('profilePage');
        });
        document.getElementById('logoutBtn').addEventListener('click', function() {
            currentUser    = null;
            showPage('welcomePage');
        });
        document.getElementById('whyCreateAppBtn').addEventListener('click', () => {
            showPage('explanationPage');
        });
        document.getElementById('backToProfile').addEventListener('click', () => {
            showPage('profilePage');
        });
        document.getElementById('logoutFromProfileBtn').addEventListener('click', function() {
            showPage('dashboardPage'); // Mengarahkan ke dashboard saat keluar dari profil
        });

        // Helper validasi form
        function showError(elementId, message) {
            const errorElement = document.getElementById(elementId + 'Error');
            errorElement.textContent = message;
            errorElement.classList.remove('hidden');
        }

        function hideError(elementId) {
            document.getElementById(elementId + 'Error').classList.add('hidden');
        }

        // Fungsi login
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value.trim();
            let isValid = true;

            // Validasi email
            if (!email) {
                showError('loginEmail', 'Email diperlukan');
                isValid = false;
            } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                showError('loginEmail', 'Masukkan email yang valid');
                isValid = false;
            } else {
                hideError('loginEmail');
            }

            // Validasi password
            if (!password) {
                showError('loginPassword', 'Password diperlukan');
                isValid = false;
            } else {
                hideError('loginPassword');
            }
            
            if (isValid) {
                // Cari pengguna di database
                const user = users.find(u => u.email === email && u.password === password);
                
                if (user) {
                    // Login berhasil
                    currentUser    = user;
                    document.getElementById('userNameDisplay').textContent = user.name;
                    showPage('dashboardPage');
                    
                    // Reset form
                    this.reset();
                } else {
                    showError('loginPassword', 'Email atau password salah');
                }
            }
        });

        // Fungsi registrasi
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('registerName').value.trim();
            const email = document.getElementById('registerEmail').value.trim();
            const password = document.getElementById('registerPassword').value.trim();
            const confirmPassword = document.getElementById('registerConfirmPassword').value.trim();
            let isValid = true;

            // Validasi nama
            if (!name) {
                showError('registerName', 'Nama lengkap diperlukan');
                isValid = false;
            } else {
                hideError('registerName');
            }

            // Validasi email
            if (!email) {
                showError('registerEmail', 'Email diperlukan');
                isValid = false;
            } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                showError('registerEmail', 'Masukkan email yang valid');
                isValid = false;
            } else if (users.some(u => u.email === email)) {
                showError('registerEmail', 'Email sudah terdaftar');
                isValid = false;
            } else {
                hideError('registerEmail');
            }

            // Validasi password
            if (!password) {
                showError('registerPassword', 'Password diperlukan');
                isValid = false;
            } else if (password.length < 6) {
                showError('registerPassword', 'Password minimal 6 karakter');
                isValid = false;
            } else {
                hideError('registerPassword');
            }

            // Validasi konfirmasi password
            if (password !== confirmPassword) {
                showError('registerConfirmPassword', 'Password tidak cocok');
                isValid = false;
            } else if (!confirmPassword) {
                showError('registerConfirmPassword', 'Tolong konfirmasi password');
                isValid = false;
            } else {
                hideError('registerConfirmPassword');
            }

            if (isValid) {
                // Daftarkan pengguna baru
                const newUser    = { id: Date.now(), name, email, password };
                users.push(newUser   );
                currentUser    = newUser   ;
                
                // Update UI dan tampilkan dashboard
                document.getElementById('userNameDisplay').textContent = name;
                showPage('dashboardPage');
                
                // Reset form
                this.reset();
            }
        });

        // Fungsi logout
        document.getElementById('logoutBtn').addEventListener('click', function() {
            currentUser    = null;
            showPage('welcomePage');
        });

        // Pemilihan kuis
        document.querySelectorAll('[data-quiz]').forEach(quizCard => {
            quizCard.addEventListener('click', function() {
                currentQuiz = this.getAttribute('data-quiz');
                startQuiz(currentQuiz);
            });
        });

        // Fungsi mulai kuis
        function startQuiz(quizType) {
            currentQuestionIndex = 0;
            score = 0;
            timeLeft = 30;
            quizStartTime = Date.now();
            
            // Update UI
            document.getElementById('totalQuestions').textContent = quizzes[quizType].length;
            
            // Muat pertanyaan pertama
            loadQuestion(quizType);
            showPage('quizPage');
            
            // Mulai timer
            startTimer();
        }

        // Fungsi memuat pertanyaan
        function loadQuestion(quizType) {
            const question = quizzes[quizType][currentQuestionIndex];
            const quizContent = document.getElementById('quizContent');
            
            // Update progres
            document.getElementById('currentQuestionNumber').textContent = currentQuestionIndex + 1;
            document.getElementById('progressFill').style.width = `${((currentQuestionIndex + 1) / quizzes[quizType].length) * 100}%`;
            
            // Reset timer untuk setiap pertanyaan
            resetTimer();
            timeLeft = 30;
            document.getElementById('timer').textContent = `${timeLeft}s`;
            
            // Buat HTML pertanyaan
            quizContent.innerHTML = `
                <div class="question-container mb-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-6">${question.question}</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${question.options.map((option, index) => `
                            <div class="option-card bg-white rounded-lg p-4 border-2" data-option="${index}">
                                <span class="font-medium text-gray-800">${String.fromCharCode(65 + index)}. ${option}</span>
                            </div>
                                                `).join('')}
                    </div>
                </div>
                <button id="nextQuestionBtn" class="btn-primary text-white py-3 px-6 rounded-lg font-medium w-full md:w-auto md:px-8 opacity-50 cursor-not-allowed" disabled>Pertanyaan Berikutnya</button>
            `;
            
            // Tambahkan event listener ke opsi
            document.querySelectorAll('.option-card').forEach(option => {
                option.addEventListener('click', function() {
                    // Hapus seleksi dari semua opsi
                    document.querySelectorAll('.option-card').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Pilih opsi ini
                    this.classList.add('selected');
                    
                    // Aktifkan tombol berikutnya
                    document.getElementById('nextQuestionBtn').disabled = false;
                    document.getElementById('nextQuestionBtn').classList.remove('opacity-50', 'cursor-not-allowed');
                });
            });
            
            // Tambahkan event listener ke tombol berikutnya
            document.getElementById('nextQuestionBtn').addEventListener('click', function() {
                processAnswer(quizType);
            });
        }

        // Fungsi memproses jawaban
        function processAnswer(quizType) {
            const selectedOption = document.querySelector('.option-card.selected');
            if (!selectedOption) return;
            
            const selectedOptionIndex = parseInt(selectedOption.getAttribute('data-option'));
            const correctOptionIndex = quizzes[quizType][currentQuestionIndex].correctAnswer;
            
            // Tandai jawaban benar dan salah
            document.querySelectorAll('.option-card').forEach(option => {
                const optionIndex = parseInt(option.getAttribute('data-option'));
                if (optionIndex === correctOptionIndex) {
                    option.classList.add('correct'); // Jawaban benar
                } else if (optionIndex === selectedOptionIndex) {
                    option.classList.add('incorrect'); // Jawaban salah
                }
            });
            
            // Update skor jika benar
            if (selectedOptionIndex === correctOptionIndex) {
                score++;
            }
            
            // Nonaktifkan seleksi lebih lanjut
            document.querySelectorAll('.option-card').forEach(option => {
                option.style.pointerEvents = 'none';
            });
            
            // Ubah tombol untuk melanjutkan
            const nextButton = document.getElementById('nextQuestionBtn');
            nextButton.textContent = currentQuestionIndex < quizzes[quizType].length - 1 ? 'Lanjut' : 'Selesaikan Kuis';
            nextButton.removeEventListener('click', arguments.callee);
            
            // Pindah ke pertanyaan berikutnya atau selesaikan kuis
            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < quizzes[quizType].length) {
                    loadQuestion(quizType);
                } else {
                    finishQuiz(quizType);
                }
            }, 1500);
        }

        // Fungsi timer
        function startTimer() {
            timer = setInterval(() => {
                timeLeft--;
                document.getElementById('timer').textContent = `${timeLeft}s`;
                
                if (timeLeft <= 10) {
                    document.getElementById('timer').classList.add('text-red-500');
                }
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    autoSubmitQuestion(currentQuiz);
                }
            }, 1000);
        }

        function resetTimer() {
            clearInterval(timer);
            document.getElementById('timer').classList.remove('text-red-500');
        }

        function autoSubmitQuestion(quizType) {
            // Submit otomatis jika waktu habis
            const hasSelected = document.querySelector('.option-card.selected');
            
            if (!hasSelected) {
                // Sorot jawaban yang benar
                const correctOptionIndex = quizzes[quizType][currentQuestionIndex].correctAnswer;
                document.querySelector(`.option-card[data-option="${correctOptionIndex}"]`).classList.add('correct');
                
                // Nonaktifkan seleksi lebih lanjut
                document.querySelectorAll('.option-card').forEach(option => {
                    option.style.pointerEvents = 'none';
                });
                
                // Aktifkan tombol lanjut
                const nextButton = document.getElementById('nextQuestionBtn');
                nextButton.disabled = false;
                nextButton.classList.remove('opacity-50', 'cursor-not-allowed');
                nextButton.textContent = currentQuestionIndex < quizzes[quizType].length - 1 ? 'Lanjut' : 'Selesaikan Kuis';
            }
        }

        // Fungsi menyelesaikan kuis
        function finishQuiz(quizType) {
            clearInterval(timer);
            timeTaken = Math.floor((Date.now() - quizStartTime) / 1000);
            
            // Hitung skor
            const totalQuestions = quizzes[quizType].length;
            const percentage = Math.round((score / totalQuestions) * 100);
            
            // Update halaman hasil
            document.getElementById('correctAnswers').textContent = score;
            document.getElementById('totalQuestionsResult').textContent = totalQuestions;
            document.getElementById('scorePercentage').textContent = percentage;
            document.getElementById('timeTaken').textContent = `${timeTaken}s`;
            
            // Simpan hasil ke riwayat kinerja
            if (!performanceHistory[currentUser .id]) {
                performanceHistory[currentUser .id] = {};
            }
            if (!performanceHistory[currentUser .id][quizType] || performanceHistory[currentUser .id][quizType].score < score) {
                performanceHistory[currentUser .id][quizType] = { score, timeTaken, percentage };
            }

            // Tampilkan rincian kinerja
            displayPerformanceDetails();

            // Pesan performa
            const performanceMessage = document.getElementById('performanceMessage');
            if (percentage >= 80) {
                performanceMessage.textContent = 'Luar Biasa👍';
                performanceMessage.className = 'text-sm font-medium px-3 py-1 rounded-full bg-green-100 text-green-600';
            } else if (percentage >= 50) {
                performanceMessage.textContent = 'Kerja Bagus👌';
                performanceMessage.className = 'text-sm font-medium px-3 py-1 rounded-full bg-yellow-100 text-yellow-600';
            } else {
                performanceMessage.textContent = 'Terus Berlatih🙏';
                performanceMessage.className = 'text-sm font-medium px-3 py-1 rounded-full bg-red-100 text-red-600';
            }
            
            showPage('resultsPage');
        }

        
        function displayPerformanceDetails() {
            const performanceDetails = document.getElementById('performanceDetails');
            performanceDetails.innerHTML = ''; 

            for (const quizType in performanceHistory[currentUser .id]) {
                const { score, timeTaken, percentage } = performanceHistory[currentUser .id][quizType];
                const detailItem = document.createElement('div');
                detailItem.className = 'flex justify-between items-center';
                detailItem.innerHTML = `
                    <span class="font-medium">${quizType.charAt(0).toUpperCase() + quizType.slice(1)}</span>
                    <span class="text-sm text-gray-600">${score}/${quizzes[quizType].length} benar (${percentage}%) - ${timeTaken}s</span>
                `;
                performanceDetails.appendChild(detailItem);
            }
        }

        // Fungsi reset kuis
        function resetQuiz() {
            clearInterval(timer);
            currentQuiz = null;
            currentQuestionIndex = 0;
            score = 0;
            timeLeft = 30;
        }

        // Tombol halaman hasil
        document.getElementById('newQuizBtn').addEventListener('click', function() {
            showPage('dashboardPage');
        });

        document.getElementById('reviewAnswersBtn').addEventListener('click', function() {
            alert('Karena waktu mengerjakan mepet, jadi untuk tinjau jawaban belum dikerjakan😁.');
        });

        // Inisialisasi beberapa pengguna untuk demo
        users.push({
            id: 1,
            name: "Demo",
            email: "demo@example.com",
            password: "123456"
        });
    </script>
    <script>
    // Event listener untuk navigasi ke halaman opsi
    document.querySelectorAll('[data-subject]').forEach(subjectCard => {
        subjectCard.addEventListener('click', function() {
            showPage('optionsPage');
        });
    });

    // Event listener untuk tombol kuis
    document.getElementById('quizBtn').addEventListener('click', function() {
        // Logika untuk memulai kuis
        startQuiz(currentSubject);
    });

    // Event listener untuk tombol materi
    document.getElementById('materialBtn').addEventListener('click', function() {
        showPage('materialPage');
    });

    // Event listener untuk kembali ke dashboard
    document.getElementById('backToDashboardBtn').addEventListener('click', function() {
        showPage('dashboardPage');
    });

    // Event listener untuk kembali ke opsi dari materi
    document.getElementById('backToOptionsBtn').addEventListener('click', function() {
        showPage('optionsPage');
    });
</script>
</body>
</html>
